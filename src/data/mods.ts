import { Mod, ModCategory, Stats } from '../types';

// Initial mods data
export const mods: Mod[] = [
  {
    id: '1',
    title: 'NLMS Animated Eye Mod', 
    name: 'NLMS Animated Eye Mod',
    description: 'Need: Ashok Leyland Original Bus Mod By Designerhub. High-quality eye mod with animated textures, changleable colors, and realistic lighting.',
    imageUrl: 'https://cdn.discordapp.com/attachments/1329857036221153403/1330872846783873136/ets2_20250120_171357_00.png?ex=680ad3ad&is=6809822d&hm=ee0bc592c4aa277dc7f848bbe3800fb8ae2494d09b9825f2dc566cf018a0f498&',
    downloadUrl: 'https://sharemods.com/65xg4udaw94i/NLMS_Animated-Eye.zip.html',
    category: 'Bus Parts',
    downloads: 1245,
    createdAt: '2025-01-20T10:15:13Z',
    updatedAt: '2025-01-20T10:15:13Z'
  },
  {
    id: '2',
    title: 'NLMS MODIFICATION PACK 2.0',
    name: 'NLMS MODIFICATION PACK 2.0',
    description: 'Need: Ashok Leyland Original Bus Mod By Designerhub. High-quality eye mod with animated textures, changleable colors, and realistic lighting.',
    imageUrl: 'https://cdn.discordapp.com/attachments/1329857036221153403/1330880183657304155/image.png?ex=680ada82&is=68098902&hm=d507c5c5f41f5ec654f326e34d0be72df84e485894e33c08fa26636106ebe65c&',
    downloadUrl: 'https://sharemods.com/3139fkxgzu70/NLMS_Modification_2.zip.html',
    category: 'Bus Parts',
    downloads: 980,
    createdAt: '2025-01-29T14:12:09Z',
    updatedAt: '2025-01-29T14:12:09Z'
  },
  {
    id: '3',
    title: 'NLMS GLASS LUMINAS MOD',
    name: 'NLMS GLASS LUMINAS MOD',
    description: 'Need: Ashok Leyland Original Bus Mod By Designerhub. High-quality eye mod with animated textures, changleable colors, and realistic lighting.',
    imageUrl: 'https://cdn.discordapp.com/attachments/1329857036221153403/1334151326321479730/Screenshot_466.png?ex=680ae37f&is=680991ff&hm=0ac0b3f19a41e609b10ad02d8ac32f1b6f064a13d34983655fa7b0b2ed6070a9&',
    downloadUrl: 'https://sharemods.com/yhvahe0rv1rd/NLMS-Gass-Luminas.zip.html',
    category: 'Bus Parts',
    downloads: 789,
    createdAt: '2025-01-29T09:45:00Z',
    updatedAt: '2025-01-29T09:45:00Z'
  },
  {
    id: '4',
    title: 'NLMS ANIMATED EYE (RGB) MOD',
    name: 'NLMS ANIMATED EYE (RGB) MOD',
    description: 'Need: Ashok Leyland Original Bus Mod By Designerhub. High-quality eye mod with animated textures,RGB,',
    imageUrl: 'https://media.discordapp.net/attachments/1339626094835404973/1364582825788969090/ets2_20250326_192133_00.png?ex=680adb0a&is=6809898a&hm=8891b80516d7e9cea00c92d303877e2b9b2a8f887deff0e2125a285d241860d3&=&format=webp&quality=lossless&width=977&height=552',
    downloadUrl: 'https://sharemods.com/ynwphh70zol2/NLMS-RGB_Animated_Eye.zip.html',
    category: 'Bus Parts',
    downloads: 567,
    createdAt: '2025-02-04T16:20:00Z',
    updatedAt: '2025-02-04T16:20:00Z'
  },
  {
    id: '5',
    title: 'NLMS HEADLIGHTS PACK',
    name: 'NLMS HEADLIGHTS PACK',
    description: 'Need: Ashok Leyland Original Bus Mod By Designerhub. RGB colours , Yellow, Red',
    imageUrl: 'https://cdn.discordapp.com/attachments/1329857036221153403/1342165865352659035/ets2_20250220_212655_00.png?ex=680b0a9e&is=6809b91e&hm=812e8ee4f4bc0caf342738d0f0991bece2dff25a6f87038893630bea735d6586&',
    downloadUrl: 'https://sharemods.com/naquysihlfr0/NLMS_HEADLIGHTS.zip.html',
    category: 'Bus Parts',
    downloads: 1032,
    createdAt: '2025-02-20T11:19:07Z',
    updatedAt: '2025-02-20T11:19:07Z'
  },
  {
    id: '6',
    title: 'NLMS MODIFICATION PACK 3.1',
    name: 'NLMS MODIFICATION PACK 3.1',
    description: 'Need Ashok Leyland Original Bus Mod By Designerhub. Notice: මේ මොඩ් එක active කරන්න කලින් ඔයාලා active කරලා තියෙන NLMS MOD PACKS අයින් කරලා මෙ මොඩ් එක active කරන්න.Bus mod version 2.0 up.',  
    imageUrl: 'https://cdn.discordapp.com/attachments/1329857036221153403/1342920200680509490/ets2_20250222_232244_00.png?ex=680a7d66&is=68092be6&hm=004ac76839c06222758b475a6dece47b88e425e379958d23d67d051f9bf410ce&',
    downloadUrl: 'https://sharemods.com/autlntvvm4sb/NLMS_MODIFICATION_3.1.zip.html',
    category: 'Bus Parts',
    downloads: 842,
    createdAt: '2025-02-22T13:20:05Z',
    updatedAt: '2025-02-22T13:20:05Z'
  },
  {
    id: '7',
    title: 'NLMS DEVIL EYE MOD',
    name: 'NLMS DEVIL EYE MOD',
    description: 'Need Ashok Leyland Original Bus Mod By Designerhub. Devil Eye mod with animated textures, changleable colors, and realistic lighting.',  
    imageUrl: 'https://cdn.discordapp.com/attachments/1329857036221153403/1343901761781370900/ets2_20250225_161719_00.png?ex=680ac3cc&is=6809724c&hm=066dcb90d4882999630979920f90ce2a9a0370dc02d8cb62e05e4c7265446a0f&',
    downloadUrl: 'https://modsfire.com/0yx16qxb15ekM99',
    category: 'Bus Parts',
    downloads: 842,
    createdAt: '2025-02-25T13:13:05Z',
    updatedAt: '2025-02-25T13:13:05Z'
  },
  {
    id: '8',
    title: 'NLMS VIP LIGHT PACK',
    name: 'NLMS VIP LIGHT PACK',
    description: 'Need Ashok Leyland Original Bus Mod By Designerhub.',  
    imageUrl: 'https://cdn.discordapp.com/attachments/1114098242641199175/1364871389303148564/image.png?ex=680b3f09&is=6809ed89&hm=959970f7ecdc480647be5daa210354289a29c1390adc06896800778ba140db7d&',
    downloadUrl: 'https://modsfire.com/ZtOy0AE024BF6O5',
    category: 'Bus Parts',
    downloads: 842,
    createdAt: '2025-03-11T13:14:05Z',
    updatedAt: '2025-03-11T13:14:05Z'
  },
  {
    id: '9',
    title: 'NLMS KNIGHT RIDER LIGHTS MOD',
    name: 'NLMS KNIGHT RIDER LIGHTS MOD',
    description: 'Need Ashok Leyland Original Bus Mod By Designerhub.',  
    imageUrl: 'https://cdn.discordapp.com/attachments/1114098242641199175/1364870232631545876/image.png?ex=680b3df5&is=6809ec75&hm=fa3c2a19ff0e0d3cc02a46237c8e5040b0fb9856df5df8780b03c955ed6360be&',
    downloadUrl: 'https://modsfire.com/Y7rDP794JGz5x7k',
    category: 'Bus Parts',
    downloads: 842,
    createdAt: '2025-03-11T13:19:05Z',
    updatedAt: '2025-03-11T13:19:05Z'
  },
  {
    id: '10',
    title: 'NLMS HOOD LIGHTS',
    name: 'NLMS HOOD LIGHTS',
    description: 'Need Ashok Leyland Original Bus Mod By Designerhub.',  
    imageUrl: 'https://cdn.discordapp.com/attachments/1329857036221153403/1355123165348495401/ets2_20250328_143038_00.png?ex=680ab80b&is=6809668b&hm=9cf71b11234fc12796234421fe408eb36c5b725908e201f320c17a5294ec4cb3&',
    downloadUrl: 'https://modsfire.com/OEi4y4js7K5Q9iY',
    category: 'Bus Parts',
    downloads: 842,
    createdAt: '2025-03-28T13:15:05Z',
    updatedAt: '2025-03-28T13:15:05Z'
  },
];

// Get mods by category
export const getModsByCategory = (category: ModCategory): Mod[] => {
  return mods.filter(mod => mod.category === category);
};

// Get mod by ID
export const getModById = (id: string): Mod | undefined => {
  return mods.find(mod => mod.id === id);
};

// Get all stats
export const getStats = (): Stats => {
  return {
    users: 1250,
    downloads: mods.reduce((total, mod) => total + mod.downloads, 0),
    mods: mods.length
  };
};

// Add a new mod
export const addMod = (mod: Omit<Mod, 'id' | 'downloads' | 'createdAt' | 'updatedAt'>): Mod => {
  const newMod: Mod = {
    ...mod,
    id: (mods.length + 1).toString(),
    downloads: 0,
    createdAt: new Date().toISOString(),
    updatedAt: new Date().toISOString()
  };
  
  mods.push(newMod);
  return newMod;
};

// Update a mod
export const updateMod = (id: string, modData: Partial<Mod>): Mod | undefined => {
  const index = mods.findIndex(mod => mod.id === id);
  if (index !== -1) {
    mods[index] = {
      ...mods[index],
      ...modData,
      updatedAt: new Date().toISOString()
    };
    return mods[index];
  }
  return undefined;
};

// Delete a mod
export const deleteMod = (id: string): boolean => {
  const initialLength = mods.length;
  const newMods = mods.filter(mod => mod.id !== id);
  mods.length = 0;
  mods.push(...newMods);
  return initialLength > mods.length;
};

// Increment download count
export const incrementDownload = (id: string): Mod | undefined => {
  const mod = mods.find(mod => mod.id === id);
  if (mod) {
    mod.downloads += 1;
    mod.updatedAt = new Date().toISOString();
    return mod;
  }
  return undefined;
};